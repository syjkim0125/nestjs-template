<!doctype html>
<!-- saved from url=(0110)http://127.0.0.1:3000/proto/NestJS%20Template%20%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%20%EB%B0%9C%ED%91%9C.html -->
<html lang="ko">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script
      type="text/javascript"
      src="./NestJS Template á„‘á…³á„…á…©á„Œá…¦á†¨á„á…³ á„‡á…¡á†¯á„‘á…­_files/___vscode_livepreview_injected_script"
    ></script>

    <script
      type="text/javascript"
      src="./NestJS Template á„‘á…³á„…á…©á„Œá…¦á†¨á„á…³ á„‡á…¡á†¯á„‘á…­_files/___vscode_livepreview_injected_script(1)"
    ></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NestJS Template í”„ë¡œì íŠ¸ ë°œí‘œ</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        margin: 0;
        padding: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%);
        color: #ffffff;
        overflow: hidden;
      }

      .presentation-container {
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
      }

      .slide {
        display: none;
        width: 90%;
        max-width: 1200px;
        background: rgba(40, 40, 40, 0.9);
        backdrop-filter: blur(20px);
        border-radius: 20px;
        padding: 60px;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.1);
        animation: slideIn 0.6s ease-out;
      }

      .slide.active {
        display: block;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      h1 {
        color: #ffffff;
        font-size: 3rem;
        margin-bottom: 1rem;
        text-align: center;
        background: linear-gradient(45deg, #ffd700, #ffed4e);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      h2 {
        color: #ffffff;
        font-size: 2.5rem;
        margin-bottom: 2rem;
        text-align: center;
        border-bottom: 3px solid #ffd700;
        padding-bottom: 1rem;
      }

      h3 {
        font-size: 1.8rem;
        margin: 1.5rem 0 1rem 0;
        color: #87ceeb;
      }

      h4 {
        color: #ffffff;
        font-size: 1.4rem;
        margin: 1.5rem 0 1rem 0;
      }

      p {
        font-size: 1.2rem;
        line-height: 1.8;
        margin-bottom: 1rem;
        text-align: center;
      }

      ul {
        font-size: 1.1rem;
        line-height: 1.8;
        margin-left: 2rem;
        margin-bottom: 1.5rem;
      }

      li {
        margin-bottom: 0.8rem;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 2rem;
        margin: 2rem 0;
      }

      .stat-card {
        background: linear-gradient(135deg, #87ceeb 0%, #4fc3f7 100%);
        color: #000000;
        padding: 2rem;
        border-radius: 15px;
        text-align: center;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        transition: transform 0.3s ease;
      }

      .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 30px rgba(135, 206, 235, 0.3);
      }

      .stat-number {
        font-size: 3rem;
        font-weight: bold;
        display: block;
        margin-bottom: 1rem;
      }

      .code-block {
        background: #000000;
        color: #ffffff;
        padding: 1.5rem;
        border-radius: 10px;
        font-family: 'Courier New', monospace;
        font-size: 0.9rem;
        line-height: 1.6;
        margin: 1.5rem 0;
        overflow-x: auto;
        overflow-y: auto;
        max-height: 600px;
        border-left: 5px solid #ffd700;
      }

      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin: 2rem 0;
        background: #2a2a2a;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
      }

      .comparison-table th {
        background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
        color: #000000;
        padding: 1rem;
        text-align: left;
        font-weight: 600;
      }

      .comparison-table td {
        padding: 1rem;
        border-bottom: 1px solid #444444;
        color: #ffffff;
      }

      .comparison-table tr:hover {
        background: #3a3a3a;
      }

      .architecture-diagram {
        text-align: center;
        margin: 2rem 0;
      }

      .layer {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 1rem;
        margin: 0.5rem 0;
        border-radius: 10px;
        font-weight: 600;
      }

      .arrow {
        font-size: 2rem;
        color: #667eea;
        margin: 0.5rem 0;
      }

      .highlight {
        background: linear-gradient(135deg, #667eea 0%, #fab1a0 100%);
        padding: 0.2rem 0.5rem;
        border-radius: 5px;
        font-weight: 600;
      }

      .center {
        text-align: center;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100%;
        min-height: 60vh;
      }

      .slide-counter {
        position: fixed;
        top: 30px;
        right: 30px;
        background: rgba(40, 40, 40, 0.9);
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-size: 1rem;
        border: 1px solid rgba(255, 255, 255, 0.1);
        z-index: 1000;
      }
    </style>
  </head>
  <body>
    <div class="slide-counter">
      <span id="current-slide">8</span> / <span id="total-slides">15</span>
    </div>

    <div class="presentation-container">
      <!-- Slide 1: ì œëª© -->
      <div class="slide">
        <div class="center">
          <h1>ğŸš€ NestJS Template í”„ë¡œì íŠ¸</h1>
          <h3>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ + Onion Architecture + CQRS</h3>
        </div>
      </div>

      <!-- Slide 2: í”„ë¡œì íŠ¸ ê°œìš” -->
      <div class="slide">
        <h2>ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”</h2>

        <h3>ğŸ¯ í•µì‹¬ ê²½í—˜ ë° í•™ìŠµ ëª©í‘œ</h3>
        <ul>
          <li>
            <strong>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ ê²½í—˜</strong> - ì„œë¹„ìŠ¤ ë¶„ë¦¬, ë…ë¦½
            ë°°í¬, í™•ì¥ì„±
          </li>
          <li><strong>ëª¨ë…¸ë ˆí¬ ê´€ë¦¬ ê²½í—˜</strong> - ì½”ë“œ ê³µìœ , ì˜ì¡´ì„± ê´€ë¦¬</li>
          <li>
            <strong>ë„ë©”ì¸ ê²½ê³„ ê¸°ë°˜ ì„œë¹„ìŠ¤ ë¶„ë¦¬</strong> - ë„ë©”ì¸ ë° HTTP/gRPC
            í”„ë¡œí† ì½œ ì„ íƒì— ë”°ë¥¸ ë¶„ë¦¬
          </li>
          <li>
            <strong>OAuth 2.0 &amp; JWT ì¸ì¦ ê²½í—˜</strong> - í† í° ê¸°ë°˜ ì¸ì¦,
            ë³´ì•ˆ ì„¤ê³„
          </li>
          <li>
            <strong>NestJS í”„ë ˆì„ì›Œí¬ ê²½í—˜</strong> - ì˜ì¡´ì„± ì£¼ì…, ëª¨ë“ˆ ì‹œìŠ¤í…œ,
            ë°ì½”ë ˆì´í„°
          </li>
          <li>
            <strong>CQRS íŒ¨í„´ ê²½í—˜</strong> - ëª…ë ¹/ì¡°íšŒ ë¶„ë¦¬, ì´ë²¤íŠ¸ ê¸°ë°˜
            ì•„í‚¤í…ì²˜
          </li>
          <li>
            <strong>Optimistic Lock ê²½í—˜</strong> - ë™ì‹œì„± ì œì–´, ì„±ëŠ¥ ìµœì í™”
          </li>
        </ul>
      </div>

      <!-- Slide 3: NestJS ì†Œê°œ -->
      <div class="slide">
        <h2>ğŸ”¥ NestJSë€?</h2>

        <h3>ğŸ’¡ í•µì‹¬ íŠ¹ì§•</h3>
        <ul>
          <li><strong>TypeScript ê¸°ë°˜</strong> - íƒ€ì… ì•ˆì •ì„±ê³¼ ê°œë°œ ìƒì‚°ì„±</li>
          <li>
            <strong>Decorator íŒ¨í„´</strong> - ë©”íƒ€ë°ì´í„° ê¸°ë°˜ ì„ ì–¸ì  í”„ë¡œê·¸ë˜ë°
          </li>
          <li><strong>ì˜ì¡´ì„± ì£¼ì…(DI)</strong> - IoC ì»¨í…Œì´ë„ˆë¡œ ëŠìŠ¨í•œ ê²°í•©</li>
          <li><strong>ëª¨ë“ˆ ì‹œìŠ¤í…œ</strong> - ê¸°ëŠ¥ë³„ ìº¡ìŠí™”ì™€ ì¬ì‚¬ìš©ì„±</li>
          <li><strong>Express/Fastify</strong> ê¸°ë°˜ - ê²€ì¦ëœ HTTP ì„œë²„</li>
        </ul>

        <h3>ğŸ¨ ì£¼ìš” êµ¬ì„± ìš”ì†Œ</h3>
        <div class="code-block">
          @Controller('users')<br />
          export class UserController {<br />
          &nbsp;&nbsp;constructor(private userService: UserService) {}<br />
          <br />
          &nbsp;&nbsp;@Get(':id')<br />
          &nbsp;&nbsp;@UseGuards(JwtAuthGuard)<br />
          &nbsp;&nbsp;async getUser(@Param('id') id: string) {<br />
          &nbsp;&nbsp;&nbsp;&nbsp;return this.userService.findById(id);<br />
          &nbsp;&nbsp;}<br />
          }
        </div>

        <p>
          <strong>Controller</strong>, <strong>Service</strong>,
          <strong>Guard</strong>, <strong>Interceptor</strong>,
          <strong>Filter</strong> ë“±ì˜ êµ¬ì„± ìš”ì†Œë¡œ ê¹”ë”í•œ ì•„í‚¤í…ì²˜ êµ¬ì„±
        </p>
      </div>

      <!-- Slide 4: IOC/DI -->
      <div class="slide">
        <h2>ğŸ”„ IOC/DI (Inversion of Control / Dependency Injection)</h2>

        <h3>ğŸ’¡ ì œì–´ì˜ ì—­ì „ê³¼ ì˜ì¡´ì„± ì£¼ì…</h3>
        <ul>
          <li>
            <strong>IOC Container</strong> - NestJSê°€ ê°ì²´ ìƒì„±ê³¼ ìƒëª…ì£¼ê¸° ê´€ë¦¬
          </li>
          <li>
            <strong>Constructor Injection</strong> - ìƒì„±ìë¥¼ í†µí•œ ì˜ì¡´ì„± ì£¼ì…
          </li>
        </ul>

        <h3>âš™ï¸ NestJS êµ¬í˜„</h3>
        <div class="code-block">
          @Injectable()<br />
          export class AuthService {<br />
          &nbsp;&nbsp;constructor(<br />
          &nbsp;&nbsp;&nbsp;&nbsp;@Inject('IAuthRepository')<br />
          &nbsp;&nbsp;&nbsp;&nbsp;private readonly authRepository:
          IAuthRepository,<br />
          &nbsp;&nbsp;&nbsp;&nbsp;private readonly jwtProvider: IJwtProvider,<br />
          &nbsp;&nbsp;) {}<br />
          }<br />
          <br />
          // Moduleì—ì„œ Provider ë“±ë¡<br />
          providers: [<br />
          &nbsp;&nbsp;{ provide: 'IAuthRepository', useClass: AuthRepository
          },<br />
          &nbsp;&nbsp;JwtProvider,<br />
          ]
        </div>
      </div>

      <!-- Slide 5: DIP -->
      <div class="slide">
        <h2>ğŸ”€ DIP (Dependency Inversion Principle)</h2>

        <h3>ğŸ’¡ ì˜ì¡´ì„± ì—­ì „ ì›ì¹™</h3>
        <ul>
          <li><strong>ê³ ìˆ˜ì¤€ ëª¨ë“ˆ</strong> - ì €ìˆ˜ì¤€ ëª¨ë“ˆì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ</li>
          <li>
            <strong>ì¶”ìƒí™” ì˜ì¡´</strong> - êµ¬ì²´ì ì¸ êµ¬í˜„ì´ ì•„ë‹Œ ì¸í„°í˜ì´ìŠ¤ì—
            ì˜ì¡´
          </li>
          <li>
            <strong>ê³„ì¸µ ê°„ ê²°í•©ë„ ê°ì†Œ</strong> - ë„ë©”ì¸ì´ ì¸í”„ë¼ì— ì˜ì¡´í•˜ì§€
            ì•ŠìŒ
          </li>
          <li><strong>í…ŒìŠ¤íŠ¸ ìš©ì´ì„±</strong> - Mock ê°ì²´ë¡œ ì‰¬ìš´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸</li>
        </ul>

        <h3>ğŸ—ï¸ ì‹¤ì œ êµ¬í˜„ ì˜ˆì‹œ</h3>
        <div class="code-block">
          // Domain Layer - Interface ì •ì˜<br />
          export interface IAuthRepository {<br />
          &nbsp;&nbsp;findById(sessionId: string): Promise&lt;Auth |
          null&gt;;<br />
          &nbsp;&nbsp;save(auth: Auth): Promise&lt;void&gt;;<br />
          }<br />
          <br />
          // Infrastructure Layer - êµ¬í˜„ì²´<br />
          @Injectable()<br />
          export class AuthRepository implements IAuthRepository {<br />
          &nbsp;&nbsp;constructor(<br />
          &nbsp;&nbsp;&nbsp;&nbsp;@InjectRepository(AuthEntity)<br />
          &nbsp;&nbsp;&nbsp;&nbsp;private readonly authRepository:
          Repository&lt;AuthEntity&gt;<br />
          &nbsp;&nbsp;) {}<br />
          }<br />
          <br />
          // Application Layer - ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´<br />
          constructor(<br />
          &nbsp;&nbsp;@Inject('IAuthRepository')<br />
          &nbsp;&nbsp;private readonly authRepository: IAuthRepository<br />
          ) {}
        </div>
      </div>

      <!-- Slide 6: Onion Architecture -->
      <div class="slide">
        <h2>ğŸ§… Onion Architecture</h2>

        <h3>ğŸ¯ í•µì‹¬ ì›ì¹™</h3>
        <ul>
          <li>
            <strong>ì˜ì¡´ì„± ì—­ì „</strong> - ë‚´ë¶€ ê³„ì¸µì´ ì™¸ë¶€ ê³„ì¸µì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
          </li>
          <li><strong>ë„ë©”ì¸ ì¤‘ì‹¬</strong> - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ í•µì‹¬</li>
          <li><strong>í…ŒìŠ¤íŠ¸ ìš©ì´ì„±</strong> - ê° ê³„ì¸µì˜ ë…ë¦½ì  í…ŒìŠ¤íŠ¸</li>
          <li>
            <strong>ê¸°ìˆ  ë…ë¦½ì„±</strong> - í”„ë ˆì„ì›Œí¬ë‚˜ DBì— ì¢…ì†ë˜ì§€ ì•ŠìŒ
          </li>
        </ul>

        <div class="architecture-diagram">
          <div class="layer">
            <div class="layer-box infrastructure-layer">
              Infrastructure Layer<br />(Repositories, Adapters, DB)
            </div>
          </div>
          <div class="flow-arrow">â†“</div>
          <div class="layer">
            <div class="layer-box interface-layer">
              Interface Layer<br />(Controllers, Guards, Filters)
            </div>
          </div>
          <div class="flow-arrow">â†“</div>
          <div class="layer">
            <div class="layer-box application-layer">
              Application Layer<br />(Commands, Queries, Handlers)
            </div>
          </div>
          <div class="flow-arrow">â†“</div>
          <div class="layer">
            <div class="layer-box domain-layer">
              Domain Layer<br />(Entities, Value Objects, Events)
            </div>
          </div>
        </div>

        <div class="code-block">
          // Domain Layer - ìˆœìˆ˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§<br />
          export class User extends AggregateRoot {<br />
          &nbsp;&nbsp;public updateEmail(newEmail: string): void {<br />
          &nbsp;&nbsp;&nbsp;&nbsp;this.email = new EmailVO(newEmail);<br />
          &nbsp;&nbsp;}<br />
          }
        </div>
      </div>

      <!-- Slide 7: í”„ë¡œì íŠ¸ êµ¬ì¡° -->
      <div class="slide">
        <h2>ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°</h2>

        <h3>ğŸ¢ ëª¨ë…¸ë ˆí¬ êµ¬ì„±</h3>
        <div class="code-block">
          nestjs-template/<br />
          â”œâ”€â”€ apps/<br />
          â”‚ â”œâ”€â”€ auth/ # ì¸ì¦ ì„œë¹„ìŠ¤<br />
          â”‚ â”œâ”€â”€ user/ # ì‚¬ìš©ì HTTP API (external)<br />
          â”‚ â””â”€â”€ user-grpc/ # ì‚¬ìš©ì gRPC ì„œë¹„ìŠ¤ (internal)<br />
          â”œâ”€â”€ libs/<br />
          â”‚ â”œâ”€â”€ common/ # ê³µí†µ ë¼ì´ë¸ŒëŸ¬ë¦¬<br />
          â”‚ â””â”€â”€ user-common/ # ì‚¬ìš©ì ë„ë©”ì¸ ê³µí†µ (Shared Database)<br />
          â””â”€â”€ proto/ # gRPC í”„ë¡œí† ì½œ ì •ì˜
        </div>

        <h3>ğŸ¯ ì„œë¹„ìŠ¤ë³„ ê³„ì¸µ êµ¬ì¡°</h3>
        <table class="comparison-table">
          <thead>
            <tr>
              <th>ê³„ì¸µ</th>
              <th>ì—­í• </th>
              <th>ì˜ˆì‹œ</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Infrastructure</strong></td>
              <td>ê¸°ìˆ  êµ¬í˜„</td>
              <td>Repositories, DB</td>
            </tr>
            <tr>
              <td><strong>Interface</strong></td>
              <td>ì™¸ë¶€ í†µì‹ </td>
              <td>Controllers, Guards</td>
            </tr>
            <tr>
              <td><strong>Application</strong></td>
              <td>ìœ ìŠ¤ì¼€ì´ìŠ¤</td>
              <td>Commands, Queries</td>
            </tr>
            <tr>
              <td><strong>Domain</strong></td>
              <td>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§</td>
              <td>Entities, Events</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Slide 8: gRPC í†µì‹  -->
      <div class="slide">
        <h2>âš¡ gRPC í†µì‹ </h2>

        <h3>ğŸš€ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì—ì„œ gRPCë¥¼ ì„ íƒí•œ ì´ìœ </h3>
        <ul>
          <li>
            <strong>ì„œë¹„ìŠ¤ ë¶„ë¦¬</strong> - ì™¸ë¶€(REST) vs ë‚´ë¶€(gRPC) í†µì‹  ë¶„ë¦¬
          </li>
          <li>
            <strong>ì„œë¹„ìŠ¤ ê³„ì•½ ê´€ë¦¬</strong> - .proto íŒŒì¼ë¡œ ëª…í™•í•œ API ê³„ì•½
            ì •ì˜
          </li>
          <li>
            <strong>ìš´ì˜ íš¨ìœ¨ì„±</strong> - HTTP/2 ë©€í‹°í”Œë ‰ì‹± + ìë™ ë¡œë“œë°¸ëŸ°ì‹±
          </li>
        </ul>

        <h3>ğŸ“‹ Proto ì •ì˜</h3>
        <div class="code-block">
          service UserService {<br />
          &nbsp;&nbsp;rpc FindOrCreateUser(FindOrCreateUserRequest) returns
          (User) {}<br />
          &nbsp;&nbsp;rpc SoftDeleteUser(SoftDeleteUserRequest) returns
          (SoftDeleteUserResponse) {}<br />
          &nbsp;&nbsp;rpc QueryUsers(stream PaginationDto) returns (stream
          Users) {}<br />
          }<br />
          <br />
          message User {<br />
          &nbsp;&nbsp;string id = 1;<br />
          &nbsp;&nbsp;string email = 2;<br />
          &nbsp;&nbsp;UserStatus status = 3;<br />
          }
        </div>

        <p>
          <strong
            >ì™¸ë¶€ í´ë¼ì´ì–¸íŠ¸ â†’ auth ì„œë¹„ìŠ¤ (REST) â†’ user-grpc ì„œë¹„ìŠ¤
            (gRPC)</strong
          >
        </p>

        <h3>ğŸ’¡ í†µì‹  íŒ¨í„´ ë¶„ë¦¬ ì´ìœ </h3>
        <ul>
          <li><strong>ì™¸ë¶€ REST</strong> - ë¸Œë¼ìš°ì € í˜¸í™˜ì„±, ìºì‹±, í‘œì¤€í™”</li>
          <li>
            <strong>ë‚´ë¶€ gRPC</strong> - ì„±ëŠ¥, íƒ€ì… ì•ˆì „ì„±, ê³„ì•½ ê´€ë¦¬ ìš©ì´
          </li>
        </ul>
      </div>

      <!-- Slide 9: CQRS íŒ¨í„´ -->
      <div class="slide">
        <h2>ğŸ”„ CQRS íŒ¨í„´</h2>

        <h3>ğŸ’¡ Command Query Responsibility Segregation</h3>
        <ul>
          <li><strong>ì½ê¸°/ì“°ê¸° ë¶„ë¦¬</strong> - ê°ê° ìµœì í™”ëœ ëª¨ë¸ ì‚¬ìš©</li>
          <li><strong>í™•ì¥ì„±</strong> - ì½ê¸°/ì“°ê¸° ë…ë¦½ì  ìŠ¤ì¼€ì¼ë§</li>
          <li><strong>ë³µì¡ì„± ê´€ë¦¬</strong> - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ëª…í™•í•œ ë¶„ë¦¬</li>
        </ul>

        <h3>ğŸ¯ êµ¬í˜„ ì˜ˆì‹œ</h3>
        <div class="code-block">
          // Command<br />
          @CommandHandler(GoogleLoginCommand)<br />
          export class GoogleLoginHandler {<br />
          &nbsp;&nbsp;async execute(command: GoogleLoginCommand) {<br />
          &nbsp;&nbsp;&nbsp;&nbsp;// ì‚¬ìš©ì ìƒì„±/ì—…ë°ì´íŠ¸ ë¡œì§<br />
          &nbsp;&nbsp;&nbsp;&nbsp;const user = await
          this.userGrpc.findOrCreateUser(...);<br />
          &nbsp;&nbsp;&nbsp;&nbsp;return this.jwtProvider.issueTokens(user);<br />
          &nbsp;&nbsp;}<br />
          }<br />
          <br />
          // Query<br />
          @QueryHandler(GetUserQuery)<br />
          export class GetUserHandler {<br />
          &nbsp;&nbsp;async execute(query: GetUserQuery) {<br />
          &nbsp;&nbsp;&nbsp;&nbsp;// ì½ê¸° ì „ìš© ì¡°íšŒ<br />
          &nbsp;&nbsp;&nbsp;&nbsp;return
          this.userQuery.findById(query.userId);<br />
          &nbsp;&nbsp;}<br />
          }
        </div>
      </div>

      <!-- Slide 10: Saga íŒ¨í„´ -->
      <div class="slide">
        <h2>ğŸ­ Saga?</h2>

        <h3>ğŸ¤” ë¶„ì‚° íŠ¸ëœì­ì…˜?</h3>
        <p>
          NestJSì—ì„œì˜ @Saga()ëŠ”
          <span class="highlight">ì´ë²¤íŠ¸ ê¸°ë°˜ ì›Œí¬í”Œë¡œìš°</span>ì…ë‹ˆë‹¤.
        </p>

        <ul>
          <li><strong>ë‹¨ì¼ ì„œë¹„ìŠ¤ ë‚´</strong> ì´ë²¤íŠ¸ ì²˜ë¦¬</li>
          <li><strong>ë¹„ë™ê¸° ì‘ì—…</strong> ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜</li>
        </ul>

        <h3>ğŸ”„ êµ¬í˜„ ì˜ˆì‹œ</h3>
        <div class="code-block">
          @Injectable()<br />
          export class UserLogoutSaga {<br />
          &nbsp;&nbsp;@Saga()<br />
          &nbsp;&nbsp;userLogout = (events$: Observable&lt;any&gt;) =&gt; {<br />
          &nbsp;&nbsp;&nbsp;&nbsp;return events$.pipe(<br />
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ofType(UserLoggedOutEvent),<br />
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map(event =&gt; new
          GoogleLogoutCommand(event.userId))<br />
          &nbsp;&nbsp;&nbsp;&nbsp;);<br />
          &nbsp;&nbsp;}<br />
          }
        </div>

        <h3>âœ… ì¥ì </h3>
        <ul>
          <li><strong>ëŠìŠ¨í•œ ê²°í•©</strong> - ì´ë²¤íŠ¸ ê¸°ë°˜ í†µì‹ </li>
          <li><strong>í™•ì¥ì„±</strong> - ìƒˆë¡œìš´ ì´ë²¤íŠ¸ ì¶”ê°€ ìš©ì´</li>
        </ul>
      </div>

      <!-- Slide 11: OAuth 2.0 ì¸ì¦ -->
      <div class="slide">
        <h2>ğŸ” OAuth 2.0 ì¸ì¦</h2>

        <h3>ğŸ›¡ï¸ êµ¬í˜„ ì˜ˆì‹œ</h3>
        <div class="code-block">
          @Injectable()<br />
          export class GoogleStrategy extends PassportStrategy(Strategy,
          'google') {<br />
          &nbsp;&nbsp;async validate(accessToken: string, refreshToken: string,
          profile: any) {<br />
          &nbsp;&nbsp;&nbsp;&nbsp;const { id, emails, displayName } =
          profile;<br />
          &nbsp;&nbsp;&nbsp;&nbsp;return {<br />
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;googleId: id,<br />
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;email: emails[0].value,<br />
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name: displayName<br />
          &nbsp;&nbsp;&nbsp;&nbsp;};<br />
          &nbsp;&nbsp;}<br />
          }
        </div>

        <h3>ğŸ”‘ í† í° ê´€ë¦¬ ì „ëµ</h3>
        <ul>
          <li><strong>Access Token</strong> - 15ë¶„ ë‹¨ê¸° í† í° (ì‘ë‹µ JSON)</li>
          <li>
            <strong>Refresh Token</strong> - 7ì¼ ì¥ê¸° í† í° (HttpOnly Cookie)
          </li>
          <li><strong>í† í° íšŒì „</strong> - ë§¤ë²ˆ ìƒˆë¡œìš´ Refresh Token ë°œê¸‰</li>
          <li><strong>ë³´ì•ˆ ì¿ í‚¤</strong> - XSS/CSRF ë°©ì§€</li>
        </ul>

        <h3>ğŸ”„ ì¸ì¦ í”Œë¡œìš°</h3>
        <p>
          Google OAuth â†’ JWT ë°œê¸‰ â†’ Access Token(JSON) + Refresh Token(Cookie) â†’
          ìë™ ê°±ì‹ 
        </p>
      </div>

      <!-- Slide 12: Optimistic Lock -->
      <div class="slide">
        <h2>ğŸ”’ Optimistic Lock</h2>

        <h3>ğŸ’¡ ë‚™ê´€ì  ì ê¸ˆì´ë€?</h3>
        <ul>
          <li><strong>ì¶©ëŒ ê°€ì •</strong> - ë™ì‹œ ìˆ˜ì •ì´ ë“œë¬¼ë‹¤ê³  ê°€ì •</li>
          <li><strong>ë²„ì „ ê´€ë¦¬</strong> - ë°ì´í„° ë³€ê²½ ì‹œ ë²„ì „ ì¦ê°€</li>
          <li><strong>ì¶©ëŒ ê°ì§€</strong> - ì €ì¥ ì‹œì ì— ë²„ì „ í™•ì¸</li>
          <li><strong>ì„±ëŠ¥ ìš°ì„ </strong> - ë½ ì—†ì´ ë†’ì€ ë™ì‹œì„±</li>
        </ul>

        <h3>âš™ï¸ TypeORM êµ¬í˜„</h3>
        <div class="code-block">
          @Entity()<br />
          export class BaseEntity {<br />
          &nbsp;&nbsp;@VersionColumn()<br />
          &nbsp;&nbsp;version: number;<br />
          }<br />
          <br />
          // Repositoryì—ì„œ ìë™ ì²˜ë¦¬<br />
          public async save(user: User): Promise&lt;void&gt; {<br />
          &nbsp;&nbsp;user.setVersion(user.getVersion() + 1);<br />
          &nbsp;&nbsp;const userEntity = this.userMapper.toEntity(user);<br />
          &nbsp;&nbsp;await this.userRepository.save(userEntity); // ìë™
          version ì²´í¬<br />
          }
        </div>
      </div>

      <!-- Slide 13: Docker ì»¨í…Œì´ë„ˆí™” -->
      <div class="slide">
        <h2>ğŸ³ Docker ì»¨í…Œì´ë„ˆí™”</h2>

        <h3>ğŸ’¡ ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ</h3>
        <ul>
          <li><strong>Builder Stage</strong> - ì†ŒìŠ¤ ë¹Œë“œ ë° ì˜ì¡´ì„± ì„¤ì¹˜</li>
          <li><strong>Runtime Stage</strong> - ì„œë¹„ìŠ¤ë³„ ë…ë¦½ì ì¸ ì»¨í…Œì´ë„ˆ</li>
          <li><strong>Alpine Linux</strong> - ê²½ëŸ‰í™”ëœ ë² ì´ìŠ¤ ì´ë¯¸ì§€</li>
          <li><strong>Layer Caching</strong> - ë¹Œë“œ ì‹œê°„ ìµœì í™”</li>
        </ul>

        <h3>ğŸ—ï¸ Dockerfile êµ¬ì¡°</h3>
        <div class="code-block">
          # Builder Stage<br />
          FROM node:22-alpine AS builder<br />
          RUN npm i -g pnpm<br />
          COPY package.json pnpm-lock.yaml ./<br />
          RUN pnpm install<br />
          COPY . .<br />
          RUN pnpm run build:all<br />
          <br />
          # Auth Service<br />
          FROM node:22-alpine AS auth<br />
          COPY --from=builder /app/dist/apps/auth ./dist<br />
          CMD ["node", "dist/src/main.js"]<br />
          <br />
          # User gRPC Service<br />
          FROM node:22-alpine AS user-grpc<br />
          COPY --from=builder /app/proto ./proto<br />
          EXPOSE 5000
        </div>

        <p>
          <strong
            >Docker ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œë¡œ ìµœì¢… ì´ë¯¸ì§€ì— ê¼­ í•„ìš”í•œ ìš”ì†Œë§Œ
            í¬í•¨</strong
          >
        </p>
      </div>

      <!-- Slide 14: Docker Compose ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ -->
      <div class="slide">
        <h2>ğŸ³ Docker Compose ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜</h2>

        <h3>ğŸ—ï¸ ì„œë¹„ìŠ¤ êµ¬ì„±</h3>
        <div class="code-block">
          services:<br />
          &nbsp;&nbsp;# 1. ì¸ì¦ ì„œë¹„ìŠ¤ (ì™¸ë¶€ ì§„ì…ì )<br />
          &nbsp;&nbsp;auth:<br />
          &nbsp;&nbsp;&nbsp;&nbsp;ports: ['3000:3000']&nbsp;&nbsp;# ì™¸ë¶€ ì ‘ê·¼
          ê°€ëŠ¥<br />
          &nbsp;&nbsp;&nbsp;&nbsp;depends_on: [db, user-grpc]&nbsp;&nbsp;# DBì™€
          user-grpc í•„ìš”<br />
          <br />
          &nbsp;&nbsp;# 2. ì‚¬ìš©ì HTTP API<br />
          &nbsp;&nbsp;user:<br />
          &nbsp;&nbsp;&nbsp;&nbsp;ports: ['3001:3001']&nbsp;&nbsp;# ì™¸ë¶€ ì ‘ê·¼
          ê°€ëŠ¥<br />
          &nbsp;&nbsp;&nbsp;&nbsp;depends_on:
          [db]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# DBë§Œ í•„ìš”<br />
          <br />
          &nbsp;&nbsp;# 3. ì‚¬ìš©ì gRPC ì„œë¹„ìŠ¤ (ë‚´ë¶€ í†µì‹ ìš©)<br />
          &nbsp;&nbsp;user-grpc:<br />
          &nbsp;&nbsp;&nbsp;&nbsp;# í¬íŠ¸ ë…¸ì¶œ ì—†ìŒ = ë‚´ë¶€ í†µì‹ ë§Œ<br />
          &nbsp;&nbsp;&nbsp;&nbsp;depends_on: [db]<br />
          <br />
          &nbsp;&nbsp;# 4. ë°ì´í„°ë² ì´ìŠ¤<br />
          &nbsp;&nbsp;db:<br />
          &nbsp;&nbsp;&nbsp;&nbsp;image: mariadb:11.6.2<br />
          &nbsp;&nbsp;&nbsp;&nbsp;volumes: [dbdata:/var/lib/mysql]&nbsp;&nbsp;#
          ë°ì´í„° ì˜ì†ì„±<br />
          &nbsp;&nbsp;&nbsp;&nbsp;healthcheck: # ì¤€ë¹„ ìƒíƒœ í™•ì¸
        </div>
      </div>

      <!-- Slide 15: ê²°ë¡  -->
      <div class="slide">
        <h2>ğŸ‰ ê²°ë¡  ë° ë°°ìš´ ì </h2>

        <h3>âœ¨ í•µì‹¬ ì„±ê³¼</h3>
        <ul>
          <li>
            <strong>í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜</strong> - Onion + CQRS +
            ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤
          </li>
          <li>
            <strong>í†µì‹  ê¸°ë°˜ ì„œë¹„ìŠ¤ ë¶„ë¦¬</strong> - internal/external í†µì‹  ë¶„ë¦¬
          </li>
          <li>
            <strong>í† í° ì „ëµ</strong> - Rotate Refresh Token + HttpOnly Cookie
          </li>
          <li>
            <strong>ë™ì‹œì„± ì œì–´</strong> - Optimistic Lockìœ¼ë¡œ ë°ì´í„° ë¬´ê²°ì„±
          </li>
          <li>
            <strong>ì´ë²¤íŠ¸ ê¸°ë°˜</strong> - @Saga()ë¥¼ ì´ìš©í•œ ë¹„ë™ê¸° ì´ë²¤íŠ¸ ì²˜ë¦¬
          </li>
          <li><strong>ì»¨í…Œì´ë„ˆí™”</strong> - Docker ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ</li>
          <li><strong>ì˜ì¡´ì„± ì—­ì „</strong> - DIPë¡œ ê³„ì¸µ ê°„ ê²°í•©ë„ ìµœì†Œí™”</li>
        </ul>

        <h3>ğŸš€ í–¥í›„ í™•ì¥ ë°©í–¥</h3>
        <div class="stats-grid">
          <div class="stat-card">
            <span class="stat-number">ğŸ“Š</span>
            <p>ëª¨ë‹ˆí„°ë§<br />&amp; ë¡œê¹…</p>
          </div>
          <div class="stat-card">
            <span class="stat-number">ğŸ§ª</span>
            <p>í…ŒìŠ¤íŠ¸<br />ì»¤ë²„ë¦¬ì§€</p>
          </div>
          <div class="stat-card">
            <span class="stat-number">ğŸ”„</span>
            <p>CI/CD<br />íŒŒì´í”„ë¼ì¸</p>
          </div>
          <div class="stat-card">
            <span class="stat-number">â˜ï¸</span>
            <p>í´ë¼ìš°ë“œ<br />ë°°í¬</p>
          </div>
        </div>
      </div>
    </div>

    <script>
      let currentSlide = 0;
      const slides = document.querySelectorAll('.slide');
      const totalSlides = slides.length;

      document.getElementById('total-slides').textContent = totalSlides;

      function showSlide(n) {
        slides[currentSlide].classList.remove('active');
        currentSlide = (n + totalSlides) % totalSlides;
        slides[currentSlide].classList.add('active');

        document.getElementById('current-slide').textContent = currentSlide + 1;
      }

      function nextSlide() {
        if (currentSlide < totalSlides - 1) {
          showSlide(currentSlide + 1);
        }
      }

      function previousSlide() {
        if (currentSlide > 0) {
          showSlide(currentSlide - 1);
        }
      }

      // í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
      document.addEventListener('keydown', function (e) {
        if (e.key === 'ArrowRight' || e.key === ' ') {
          nextSlide();
        } else if (e.key === 'ArrowLeft') {
          previousSlide();
        }
      });

      // ì´ˆê¸° ìƒíƒœ ì„¤ì •
      showSlide(0);
    </script>
  </body>
</html>
